<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DiploFácil</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#047857">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;600;700;800;900&display=swap');
        
        :root {
            /* Novas Cores - Padrão UNICV/EdTech */
            --law-primary: #047857; /* Verde Escuro (Emerald 700) */
            --law-action: #f97316; /* Laranja Vibrante (Orange 500) */
            --law-bg: #f8fafc; /* Branco Gelo (Slate 50) */
        }

        body { 
            font-family: 'Lexend', sans-serif; 
            background-color: var(--law-bg);
            -webkit-tap-highlight-color: transparent;
        }

        .bg-law-primary { background-color: var(--law-primary); }
        .text-law-primary { color: var(--law-primary); }
        .border-law-primary { border-color: var(--law-primary); }
        
        .bg-law-action { background-color: var(--law-action); }
        .text-law-action { color: var(--law-action); }
        .border-law-action { border-color: var(--law-action); }

        /* Animações e UI */
        .screen { display: none; animation: fadeIn 0.3s ease-out; }
        .screen.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .btn-3d { transition: all 0.1s; border-bottom-width: 5px; }
        .btn-3d:active { transform: translateY(3px); border-bottom-width: 0px; margin-bottom: 5px; }

        .glass-header { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); }

        /* Loader da IA */
        .ai-loader {
            border: 4px solid rgba(249, 115, 22, 0.2);
            border-left-color: var(--law-action);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="text-slate-800 antialiased selection:bg-law-action selection:text-white">

    <div id="login-screen" class="fixed inset-0 bg-law-primary z-[100] flex flex-col justify-center px-8 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]">
        <div class="text-center mb-10">
            <div class="w-24 h-24 bg-white rounded-3xl mx-auto flex items-center justify-center shadow-2xl mb-6">
                <i class="fas fa-owl text-5xl text-law-primary"></i>
            </div>
            <h1 class="text-4xl font-black text-white tracking-tighter">DiploFácil</h1>
            <p class="text-green-100 font-medium mt-2">O seu atalho para a aprovação.</p>
        </div>
        <div class="space-y-4">
            <input id="emailInput" type="email" placeholder="E-mail (ex: bruno@unicv.edu.br)" class="w-full p-4 rounded-xl bg-white text-slate-800 font-bold placeholder-slate-400 focus:outline-none focus:ring-4 focus:ring-law-action shadow-lg">
            <input id="passwordInput" type="password" placeholder="Senha (ex: 123)" class="w-full p-4 rounded-xl bg-white text-slate-800 font-bold placeholder-slate-400 focus:outline-none focus:ring-4 focus:ring-law-action shadow-lg">
            
            <p id="login-error" class="text-red-300 text-sm font-bold text-center hidden">Credenciais incorretas!</p>

            <button onclick="doLogin()" class="w-full py-4 mt-4 bg-law-action text-white font-black rounded-xl btn-3d border-[#c25a11] text-lg shadow-xl uppercase">Acessar Plataforma</button>
        </div>
    </div>

    <div id="main-app" class="hidden">
        
        <header class="glass-header fixed top-0 left-0 right-0 border-b border-gray-200 z-50 px-5 py-3 max-w-md mx-auto flex justify-between items-center shadow-sm">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-law-primary rounded-xl flex items-center justify-center text-white shadow-md">
                    <i class="fas fa-owl text-xl"></i>
                </div>
                <span class="text-xl font-black text-law-primary tracking-tight">DiploFácil</span>
            </div>
            <div class="flex gap-2 font-black text-sm">
                <div class="flex items-center gap-1.5 bg-orange-100 px-3 py-1.5 rounded-xl border border-orange-200">
                    <i class="fas fa-fire text-law-action text-lg"></i>
                    <span class="text-orange-800">12</span>
                </div>
            </div>
        </header>

        <main id="screen-trilha" class="screen active max-w-md mx-auto pt-24 pb-28 px-5">
            
            <div class="bg-law-primary rounded-3xl p-6 text-white mb-10 shadow-xl relative overflow-hidden">
                <div class="relative z-10">
                    <span class="bg-white/20 px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest">3º Semestre</span>
                    <h2 class="text-2xl font-black mt-4 mb-4">Direito Contratual</h2>
                    <div class="w-full bg-black/20 rounded-full h-3">
                        <div class="bg-law-action h-3 rounded-full shadow-[0_0_10px_rgba(249,115,22,0.8)]" style="width: 35%"></div>
                    </div>
                    <p class="text-xs mt-2 font-bold text-green-100">Teoria da Agnição • 35% concluído</p>
                </div>
                <i class="fas fa-file-signature absolute -right-4 -bottom-4 text-white/10 text-8xl rotate-12"></i>
            </div>

            <div class="flex flex-col items-center space-y-12 relative pb-4">
                <div class="absolute top-10 bottom-10 w-2 bg-gray-200 rounded-full -z-10"></div>

                <div class="flex flex-col items-center">
                    <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center border-b-[4px] border-green-700 text-white text-2xl shadow-md">
                        <i class="fas fa-check"></i>
                    </div>
                    <p class="font-bold text-slate-400 mt-2 text-xs uppercase">Classificação</p>
                </div>

                <div class="flex flex-col items-center relative">
                    <div class="absolute -top-8 bg-law-action text-white px-4 py-1 rounded-full font-black text-[10px] uppercase shadow-lg animate-bounce">Resumo Novo</div>
                    <button onclick="simulateAILoading()" class="btn-3d w-24 h-24 bg-law-primary rounded-full flex items-center justify-center border-b-[6px] border-[#024a35] text-white text-4xl shadow-xl ring-8 ring-[var(--law-bg)]">
                        <i class="fas fa-brain"></i>
                    </button>
                    <p class="font-black text-law-primary mt-3 text-sm text-center">Formação do Contrato<br><span class="text-xs text-slate-400 font-normal">(Momento da Aceitação)</span></p>
                </div>
            </div>
        </main>

        <main id="screen-faltas" class="screen max-w-md mx-auto pt-24 pb-28 px-5">
            <h1 class="text-2xl font-black text-law-primary mb-2">Aulas Perdidas</h1>
            <p class="text-slate-500 text-sm font-medium mb-6">Recupere o conteúdo rapidamente.</p>
            
            <div class="bg-white rounded-3xl p-5 shadow-sm border-2 border-red-100 mb-4">
                <div class="flex justify-between items-start mb-2">
                    <span class="bg-red-100 text-red-600 text-[10px] font-black px-2 py-1 rounded-full uppercase">Falta Registrada</span>
                    <span class="text-xs font-bold text-slate-400">Ontem</span>
                </div>
                <h3 class="font-black text-lg text-slate-800">Direito Contratual</h3>
                <p class="text-sm text-slate-500 mt-2">A professora abordou as exceções da Teoria da Expedição (Art. 433 e 434).</p>
                <button onclick="simulateAILoading()" class="w-full py-3 mt-4 bg-red-50 text-red-700 font-bold rounded-xl border border-red-200">VER RESUMO EXPRESS</button>
            </div>
        </main>

        <main id="screen-resumos" class="screen max-w-md mx-auto pt-24 pb-28 px-5">
            <h1 class="text-2xl font-black text-law-primary mb-6">Seus Cadernos</h1>
            
            <div class="space-y-4">
                <a href="https://drive.google.com/file/d/1qQtEYkRNuk6P2oxYJkduGvFOhNbd0E5u/view?usp=sharing" target="_blank" class="block bg-white p-5 rounded-3xl border-2 border-gray-100 shadow-sm btn-3d active:transform-none">
                    <div class="flex items-center gap-4">
                        <div class="w-14 h-14 bg-orange-100 text-law-action rounded-2xl flex items-center justify-center text-2xl">
                            <i class="fas fa-play"></i>
                        </div>
                        <div class="flex-1">
                            <span class="bg-law-primary/10 text-law-primary text-[9px] font-black px-2 py-0.5 rounded-md uppercase">Áudio Oficial</span>
                            <h3 class="font-bold text-slate-800 mt-1">Aula de Contratos (Completa)</h3>
                            <p class="text-[10px] text-slate-400 font-bold mt-1">Ouça no trânsito ou na academia.</p>
                        </div>
                    </div>
                </a>

                <div class="bg-white p-5 rounded-3xl border-2 border-gray-100 shadow-sm flex items-center gap-4">
                    <div class="w-14 h-14 bg-red-100 text-red-500 rounded-2xl flex items-center justify-center text-2xl">
                        <i class="fas fa-file-pdf"></i>
                    </div>
                    <div class="flex-1">
                        <h3 class="font-bold text-slate-800">Anotações da Juliana</h3>
                        <p class="text-[10px] text-slate-400 font-bold mt-1">Mapa mental e quadro resumo.</p>
                    </div>
                </div>
            </div>
        </main>

        <nav class="glass-header fixed bottom-0 left-0 right-0 border-t border-gray-200/50 pb-safe z-50 max-w-md mx-auto">
            <div class="flex justify-around items-center pt-2 pb-4">
                <button onclick="navigate('trilha')" class="nav-btn text-law-primary flex flex-col items-center gap-1 w-14" data-target="trilha">
                    <i class="fas fa-route text-xl"></i><span class="text-[9px] font-black uppercase">Trilha</span>
                </button>
                <button onclick="navigate('faltas')" class="nav-btn text-slate-400 flex flex-col items-center gap-1 w-14" data-target="faltas">
                    <i class="fas fa-calendar-times text-xl"></i><span class="text-[9px] font-black uppercase">Faltas</span>
                </button>
                <button onclick="navigate('resumos')" class="nav-btn text-slate-400 flex flex-col items-center gap-1 w-14" data-target="resumos">
                    <i class="fas fa-book text-xl"></i><span class="text-[9px] font-black uppercase">Resumos</span>
                </button>
            </div>
        </nav>
    </div>

    <div id="ai-loading-overlay" class="fixed inset-0 bg-white/95 backdrop-blur-sm z-[100] hidden flex-col items-center justify-center px-8">
        <div class="ai-loader mb-6"></div>
        <h2 class="text-xl font-black text-law-primary text-center">IA Processando...</h2>
        <p class="text-sm font-semibold text-slate-500 mt-2 text-center" id="loading-text">Lendo anotações da Juliana e PDF da Professora...</p>
    </div>

    <main id="screen-lesson" class="fixed inset-0 bg-law-bg z-[110] hidden flex-col max-w-md mx-auto transition-transform duration-300 transform translate-y-full">
        <div class="px-5 py-4 flex items-center gap-4 bg-white border-b border-gray-200 shadow-sm">
            <button onclick="closeLesson()" class="text-slate-400 hover:text-law-primary text-2xl">
                <i class="fas fa-times"></i>
            </button>
            <div class="flex-1 bg-slate-100 h-3 rounded-full overflow-hidden">
                <div class="bg-law-action h-full w-1/2 rounded-full"></div>
            </div>
        </div>

        <div class="flex-1 overflow-y-auto p-6 flex flex-col justify-center">
            <div class="bg-white rounded-[2rem] p-8 shadow-xl border-2 border-gray-100 relative">
                <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-law-action text-white px-4 py-1 rounded-full text-[10px] font-black uppercase shadow-lg">
                    Regra Geral (Art. 434)
                </div>
                
                <h2 class="text-2xl font-black text-slate-800 mb-4 text-center mt-4">Teoria da Agnição</h2>
                
                <div class="bg-green-50 p-4 rounded-2xl mb-4 border border-green-100">
                    <p class="text-slate-700 font-semibold text-sm">
                        O Brasil adota a Teoria da Agnição na modalidade <b class="text-law-primary">EXPEDIÇÃO</b>.
                    </p>
                </div>
                
                <p class="text-slate-500 font-medium text-sm leading-relaxed mb-4">
                    Ou seja, os contratos entre ausentes tornam-se perfeitos <b>desde que a aceitação é expedida</b>. Colocou a carta no correio ou apertou "enviar" no e-mail, o contrato já existe!
                </p>

                <div class="border-t-2 border-dashed border-gray-200 pt-4">
                    <h4 class="font-black text-xs text-slate-400 uppercase mb-2">3 Exceções:</h4>
                    <ul class="text-xs text-slate-600 space-y-2 font-semibold">
                        <li><i class="fas fa-exclamation-circle text-red-400 mr-1"></i> Retratação (chega antes ou junto)</li>
                        <li><i class="fas fa-exclamation-circle text-red-400 mr-1"></i> Compromisso de Espera</li>
                        <li><i class="fas fa-exclamation-circle text-red-400 mr-1"></i> Atraso na Chegada</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="p-5 bg-white border-t border-gray-200">
            <button onclick="closeLesson()" class="w-full py-4 bg-law-primary text-white text-lg font-black rounded-2xl btn-3d border-[#024a35]">
                MUITO FÁCIL, PRÓXIMA
            </button>
        </div>
    </main>

    <script>
        // Função de Login Realista (Falso)
        function doLogin() {
            const email = document.getElementById('emailInput').value.toLowerCase().trim();
            const pass = document.getElementById('passwordInput').value;
            const errorMsg = document.getElementById('login-error');

            if (email === 'bruno@unicv.edu.br' && pass === '123') {
                // Sucesso
                errorMsg.classList.add('hidden');
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('main-app').classList.remove('hidden');
            } else {
                // Erro
                errorMsg.classList.remove('hidden');
                document.getElementById('passwordInput').value = ''; // limpa a senha
            }
        }

        // Navegação
        function navigate(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('screen-' + screenId).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                if(btn.dataset.target === screenId) {
                    btn.classList.replace('text-slate-400', 'text-law-primary');
                } else {
                    btn.classList.replace('text-law-primary', 'text-slate-400');
                }
            });
            window.scrollTo(0, 0);
        }

        // Simulação da IA (Animação de Carregamento)
        function simulateAILoading() {
            const overlay = document.getElementById('ai-loading-overlay');
            const textEl = document.getElementById('loading-text');
            const lessonScreen = document.getElementById('screen-lesson');
            
            overlay.classList.remove('hidden');
            overlay.classList.add('flex');
            
            setTimeout(() => { textEl.innerText = "Formatando Teoria da Agnição..."; }, 1000);
            setTimeout(() => { textEl.innerText = "Criando Flashcards..."; }, 2000);
            
            setTimeout(() => {
                overlay.classList.add('hidden');
                overlay.classList.remove('flex');
                
                lessonScreen.classList.remove('hidden');
                setTimeout(() => { lessonScreen.classList.remove('translate-y-full'); }, 50);
                textEl.innerText = "Lendo anotações da Juliana e PDF da Professora..."; // Reseta texto
            }, 3000);
        }

        function closeLesson() {
            const lessonScreen = document.getElementById('screen-lesson');
            lessonScreen.classList.add('translate-y-full');
            setTimeout(() => { lessonScreen.classList.add('hidden'); }, 300);
        }
    </script>
</body>
</html>
